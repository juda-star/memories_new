{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Yehuda/Desktop/tech career/projects/git/memoriesNew/memories/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/Yehuda/Desktop/tech career/projects/git/memoriesNew/memories/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{useDispatch}from\"react-redux\";import{Container,Grow,Grid,Paper,AppBar,TextField,Button}from\"@material-ui/core\";import{useNavigate,useLocation}from\"react-router-dom\";import ChipInput from\"material-ui-chip-input\";import Posts from\"../Posts/Posts\";import{getPosts,getPostsBySearch}from\"../../actions/posts\";import Form from\"../Form/Form\";import Paginate from\"../Pagination/Pagination\";import{ClassNames}from\"@emotion/react\";import useStyle from\"./styles\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function useQuery(){return new URLSearchParams(useLocation().search);}var Home=function Home(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),currentId=_useState2[0],setCurrentId=_useState2[1];var dispatch=useDispatch();var query=useQuery();var navigate=useNavigate();var page=query.get(\"page\")||1;var searchQuery=query.get(\"serachQuery\");var classes=useStyle();var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),search=_useState4[0],setSearch=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),tags=_useState6[0],setTags=_useState6[1];// useEffect(() => {\n//   dispatch(getPosts());\n// }, [currentId, dispatch]);\nvar hendleKeyPress=function hendleKeyPress(e){if(e.keyCode===13){searchPost();}};var searchPost=function searchPost(){if(search.trim()||tags){dispatch(getPostsBySearch({search:search,tags:tags.join(',')}));navigate(\"/posts/search?searchQuery=\".concat(search||'none',\"&tags=\").concat(tags.join(',')));}else{navigate('/');}};var handleAdd=function handleAdd(tag){return setTags([].concat(_toConsumableArray(tags),[tag]));};var handleDelete=function handleDelete(tagToDelete){return setTags(tags.filter(function(tag){return tag!==tagToDelete;}));};return/*#__PURE__*/_jsx(Grow,{in:true,children:/*#__PURE__*/_jsx(Container,{maxWidth:\"xl\",children:/*#__PURE__*/_jsxs(Grid,{container:true,justifyContent:\"space-between\",alignItems:\"stretch\",spacing:3,className:ClassNames.gridContainer,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:9,children:/*#__PURE__*/_jsx(Posts,{setCurrentId:setCurrentId})}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,sm:6,md:3,children:[/*#__PURE__*/_jsxs(AppBar,{className:classes.AppBarSearch,position:\"static\",color:\"inherit\",children:[/*#__PURE__*/_jsx(TextField,{name:\"search\",variant:\"outlined\",label:\"Search Memories\",onKeyPress:hendleKeyPress,fullWidth:true,value:search,onChange:function onChange(e){return setSearch(e.target.value);}}),/*#__PURE__*/_jsx(ChipInput,{style:{margin:\"10px 0\"},value:tags,onAdd:handleAdd,onDelete:handleDelete,label:\"Search Tags\",variant:\"outlined\"}),/*#__PURE__*/_jsx(Button,{onClick:searchPost,className:classes.searchButton,color:\"primary\",variant:\"contained\",children:\"Search\"})]}),/*#__PURE__*/_jsx(Form,{currentId:currentId,setCurrentId:setCurrentId}),/*#__PURE__*/_jsx(Paper,{elevation:6,children:/*#__PURE__*/_jsx(Paginate,{page:page})})]})]})})});};export default Home;","map":{"version":3,"names":["React","useState","useEffect","useDispatch","Container","Grow","Grid","Paper","AppBar","TextField","Button","useNavigate","useLocation","ChipInput","Posts","getPosts","getPostsBySearch","Form","Paginate","ClassNames","useStyle","useQuery","URLSearchParams","search","Home","currentId","setCurrentId","dispatch","query","navigate","page","get","searchQuery","classes","setSearch","tags","setTags","hendleKeyPress","e","keyCode","searchPost","trim","join","handleAdd","tag","handleDelete","tagToDelete","filter","gridContainer","AppBarSearch","target","value","margin","searchButton"],"sources":["C:/Users/Yehuda/Desktop/tech career/projects/git/memoriesNew/memories/client/src/components/Home/Home.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport {\r\n  Container,\r\n  Grow,\r\n  Grid,\r\n  Paper,\r\n  AppBar,\r\n  TextField,\r\n  Button,\r\n} from \"@material-ui/core\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport ChipInput from \"material-ui-chip-input\";\r\n\r\nimport Posts from \"../Posts/Posts\";\r\nimport { getPosts,getPostsBySearch } from \"../../actions/posts\";\r\nimport Form from \"../Form/Form\";\r\nimport Paginate from \"../Pagination/Pagination\";\r\nimport { ClassNames } from \"@emotion/react\";\r\nimport useStyle from \"./styles\";\r\nfunction useQuery() {\r\n  return new URLSearchParams(useLocation().search);\r\n}\r\nconst Home = () => {\r\n  const [currentId, setCurrentId] = useState(0);\r\n  const dispatch = useDispatch();\r\n  const query = useQuery();\r\n  const navigate = useNavigate();\r\n  const page = query.get(\"page\") || 1;\r\n  const searchQuery = query.get(\"serachQuery\");\r\n  const classes = useStyle();\r\n  const [search, setSearch] = useState(\"\");\r\n  const [tags, setTags] = useState([]);\r\n  // useEffect(() => {\r\n  //   dispatch(getPosts());\r\n  // }, [currentId, dispatch]);\r\n  \r\n  const hendleKeyPress = (e) => {\r\n    if (e.keyCode === 13) {\r\n      searchPost()\r\n    }\r\n  };\r\n  const searchPost=()=>{\r\n    if (search.trim()||tags) {\r\n      dispatch(getPostsBySearch({search,tags:tags.join(',')}))\r\n      navigate(`/posts/search?searchQuery=${search || 'none'}&tags=${tags.join(',')}`)\r\n    }else{\r\n      navigate('/')\r\n    }\r\n  }\r\n  const handleAdd = (tag) => setTags([...tags, tag]);\r\n  const handleDelete = (tagToDelete) =>\r\n    setTags(tags.filter((tag) => tag !== tagToDelete));\r\n  return (\r\n    <Grow in>\r\n      <Container maxWidth=\"xl\">\r\n        <Grid\r\n          container\r\n          justifyContent=\"space-between\"\r\n          alignItems=\"stretch\"\r\n          spacing={3}\r\n          className={ClassNames.gridContainer}\r\n        >\r\n          <Grid item xs={12} sm={6} md={9}>\r\n            <Posts setCurrentId={setCurrentId} />\r\n          </Grid>\r\n          <Grid item xs={12} sm={6} md={3}>\r\n            <AppBar\r\n              className={classes.AppBarSearch}\r\n              position=\"static\"\r\n              color=\"inherit\"\r\n            >\r\n              <TextField\r\n                name=\"search\"\r\n                variant=\"outlined\"\r\n                label=\"Search Memories\"\r\n                onKeyPress={hendleKeyPress}\r\n                fullWidth\r\n                value={search}\r\n                onChange={(e) => setSearch(e.target.value)}\r\n              />\r\n              <ChipInput\r\n                style={{ margin: \"10px 0\" }}\r\n                value={tags}\r\n                onAdd={handleAdd}\r\n                onDelete={handleDelete}\r\n                label=\"Search Tags\"\r\n                variant=\"outlined\"\r\n              />\r\n              <Button onClick={searchPost} className={classes.searchButton} color=\"primary\" variant=\"contained\">Search</Button>\r\n            </AppBar>\r\n            <Form currentId={currentId} setCurrentId={setCurrentId} />\r\n            <Paper elevation={6}>\r\n              <Paginate page={page} />\r\n            </Paper>\r\n          </Grid>\r\n        </Grid>\r\n      </Container>\r\n    </Grow>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}